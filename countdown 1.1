# countdown timer taking user input
import time
import sys
import pygame
import msvcrt

import msvcrt

pygame.mixer.init() #initialise the mixer 

pygame.mixer.music.load('classic_alarm.WAV')



#curr = time.time()# time in sec (float)
curr2 = time.ctime() # time as date + time (str)


timerhrs= int(input ("Hours:")) # hours 

timermins= int(input("Mins:"))# minutes

timersecs= int(input("Seconds: "))# seconds

timerhrs2= timerhrs * 3600 #hours as seconds

timermins2 = timermins * 60 #minutes as seconds

timerlength = [timerhrs2, timermins2, timersecs] # total time as seconds as a lists

timeup = sum(timerlength) # sum of total time in seconds 
print(f"time:\n Hours:{timerhrs} Minutes:{timermins} Seconds: {timersecs} ")# prints hh:mm:ss


for i in range (timeup,0,-1):
  time.sleep(1)
  print(f'time in seconds:{i},end='\r')
  if msvcrt.kbhit():
    if msvcrt.getwche() == "\r":
      break
  
 
print("your timer is finished")
pygame.mixer.music.play(loops=-1, start=0, fade_ms=0)
stop= input("press y to stop alarm")
if stop == "y":
  pygame.mixer.music.stop()
  

